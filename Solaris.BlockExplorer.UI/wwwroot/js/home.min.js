function loadMarketData(){$.post(_endpoints.marketData,function(n){$("#marketData").html(n)})}function connectFeed(){const n=(new window.signalR.HubConnectionBuilder).withUrl("/wsbn").configureLogging(window.signalR.LogLevel.Error).build();n.on("wsbn",n=>{var t=$("#lastBlockHeight");t.html(n.height);highLight(t);$.post(_endpoints.block,{height:n.height},function(n){var t=$.parseHTML(n);$("#rows").prepend(t);highLight(t)})});startFeed(n)}function startFeed(n){n.onclose(()=>{console.log("Websocket closed, restarting..."),setTimeout(()=>startFeed(n),5e3)});n.connection.connectionState===2&&n.start().catch(t=>{console.log(`Problem starting websocket connection ${t.toString()}`),setTimeout(()=>this.Start(n),5e3)}).then(()=>{console.log("Websocket started")})}function highLight(n){$(n).addClass("text-white");$(n).finish().effect("highlight",{color:"#00AE52"},1e3,function(){$(n).removeClass("text-white")})}$(document).ready(function(){loadMarketData();connectFeed()});